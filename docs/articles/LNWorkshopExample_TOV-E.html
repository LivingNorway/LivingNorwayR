<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handling Darwin Core Files With Living Norway:  Example Using the TOV-E Dataset • LivingNorwayR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Handling Darwin Core Files With Living Norway:  Example Using the TOV-E Dataset">
<meta property="og:description" content="LivingNorwayR">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LivingNorwayR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/EML_R_packages_overview.html">EML R package overview</a>
    </li>
    <li>
      <a href="../articles/LNWorkshopExample_TOV-E.html">Handling Darwin Core Files With Living Norway:  Example Using the TOV-E Dataset</a>
    </li>
    <li>
      <a href="../articles/LNWorkshopExample_TOV-E_Metadata.html">LNWorkshopExample_TOV-E_Metadata</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/LivingNorway/LivingNorwayR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="LNWorkshopExample_TOV-E_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Handling Darwin Core Files With Living Norway: Example Using the TOV-E Dataset</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/LivingNorway/LivingNorwayR/blob/HEAD/vignettes/LNWorkshopExample_TOV-E.rmd" class="external-link"><code>vignettes/LNWorkshopExample_TOV-E.rmd</code></a></small>
      <div class="hidden name"><code>LNWorkshopExample_TOV-E.rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-is-darwin-core">What is Darwin Core?<a class="anchor" aria-label="anchor" href="#what-is-darwin-core"></a>
</h2>
<p>Darwin Core can best be thought of as a set of terms for describing information about biodiversity data that are given special significance so that their meaning is comparable between different data sets. Every data set in the ecological science is unique and every one will have some features about it that will require some explanation when providing this data to other parties. The Darwin Core standard is a way of describing features of your data set using a controlled vocabulary such that when you talk about feature ‘x’ in your data set, that this ‘x’ can be understood to mean a particular well-defined and standardised thing. Darwin Core is not the only standard used for the description of biological data, there are plenty of others and many, including Darwin Core itself, are maintained by working groups associated with <a href="https://www.tdwg.org/" class="external-link">TDWG</a> a Biodiversity Information Standards voluntary organization (formally called the Taxonomic Databases Working Group). Darwin Core is the standard that forms the basis for the <a href="https://www.gbif.org/" class="external-link">Global Biodiversity Information Facility</a> and, for many researchers, GBIF will represent the most common way to make their data findable and sharable with the wider community.</p>
</div>
<div class="section level2">
<h2 id="darwin-core-archive-files">Darwin Core Archive Files<a class="anchor" aria-label="anchor" href="#darwin-core-archive-files"></a>
</h2>
<p>The Darwin Core standard itself should not be confused with Darwin Core <em>archive files</em>. Darwin Core archive files are a file format type that bundles together data and the metadata describing said data into one package. The data in these archive files are described according to Darwin Core standards (hence the name) and, as a result, represent a convenient standards-compliant format for sharing biodiversity data according to <a href="https://www.go-fair.org/fair-principles/" class="external-link">FAIR</a> principles. Darwin Core archive files are the preferred method of publishing data in GBIF and a full how-to guide to producing Darwin core files can be found on the <a href="https://ipt.gbif.org/manual/en/ipt/2.5/dwca-guide#publishing-dwc-a-manually" class="external-link">GBIF Integrated Publishing Toolkit website</a>. However, this document will demonstrate ways to both generate your own Darwin Core archive files an existing data set or importing data from an existing Darwin core archive file using an alternative solution provided by the <a href="https://github.com/LivingNorway/LivingNorwayR" class="external-link">Living Norway R package</a>.</p>
<p>Darwin core archive files are simply a <a href="https://en.wikipedia.org/wiki/ZIP_(file_format)" class="external-link">ZIP</a> folder with a specific set of files inside:</p>
<ul>
<li><p><strong>Metafile</strong> The metafile is a file that describes what files exist in the Dawin Core archive file and how the columns in the data files map to Darwin Core terms. This file format follows an XML schema described in the <a href="https://dwc.tdwg.org/text/" class="external-link">Darwin Core text guide</a>. Whilst it is possible to create this file yourself, there are a number of packages that can help users construct this file. The most commonly used program is the <a href="https://www.gbif.org/ipt" class="external-link">Integrated Publishing Toolkit (IPT)</a>. Another way to automatically generate the metafile is through the use of the Living Norway package for the <a href="https://www.r-project.org/" class="external-link">R statistical platform</a> when processing your data sets. Later in this document we will guide you through the process of creating a Darwin Core archive file from a set of data tables.</p></li>
<li><p><strong>Resource metadata</strong> This file contains the metadata about the data set but structured according to known standards. For example, it may include things such as a description of the purpose of the study, the sampling methodology used in the study, and license under which the data can be shared. The format of this file is a flavour of XML, known as <a href="https://eml.ecoinformatics.org/" class="external-link">Ecological Metadata Language (EML)</a>, developed specifically for the handling of metadata in ecological data sets. As with the metafile, there are a number of packages that can be used to help you produce syntactically valid EML. When publishing data through the <a href="https://www.gbif.org/ipt" class="external-link">IPT</a>, there are a number of user-friendly prompts to provide the information for the creation of the resource metadata. Later in this document we will demsonstrate how to generate valid EML from a markdown document that can also serve as a data paper to document the data set.</p></li>
<li>
<p><strong>Data files</strong> These are a collection of files that contain the data. The format of this data is expected to be in a text-based delimited format such as <a href="https://en.wikipedia.org/wiki/Comma-separated_values" class="external-link">comma-seperated values (CSV)</a> or <a href="https://en.wikipedia.org/wiki/Tab-separated_values" class="external-link">tab-seperated values</a>. Information such as the encoding of the text and the type of delimiter used in the data files is often stored in the metafile. The first line of the data files may contain column headings.</p>
<ul>
<li>
<p><em>Core data file</em> Every Darwin Core archive needs exactly one core data file. This is the main data table of the dataset and serves as the definition of the reference sampling unit for the data set. One column of the core data file must be an ID column with each row of that column containing a unique ID code for the record (unique to the dataset): this ID code will serve as a reference code for any extension data files included in the archive. Data being published to GBIF can have core data files that belong to one the following types:</p>
<ul>
<li>
<a href="https://ipt.gbif.org/manual/en/ipt/2.5/best-practices-sampling-event-data" class="external-link">Sample event data</a> corresponds to data that have been collected according to a defined protocol or experimental design at particular times or locations. Here the data set is built around a series of sampling events at which measurements are recorded.</li>
<li>
<a href="https://ipt.gbif.org/manual/en/ipt/2.5/occurrence-data" class="external-link">Occurrence data</a> correspoinds to sightings or records of species (or other taxon level) that can been assigned to a location or time period. This data type is best used when the data set is a series of sightings or records from a collection strategy that is not systemic or unknown. Observations from citizen science projects or from digitized museum records often fit this data type.</li>
<li>
<a href="https://ipt.gbif.org/manual/en/ipt/2.5/checklist-data" class="external-link">Species checklist data</a> corresponds to a list of named species (or other taxon level) that represent a catolgue for some purpose. This could for example be a list of species of particular conservation for a particular area or a list of potential invasive species.</li>
</ul>
</li>
<li><p><em>Extension data files</em> A Darwin Core archive file may optionally have any number of data tables that may contain additional information to extend the information in the core data file. For example, in a Darwin Core archive with an event-based core data file, we might also have an accompanying data table that describes the number of individuals of each species found at each of the sampling events. Like the core data file, each extension data table must contain one column that represents an ID column. Unlike the core data table type however, the extension ID columns refer to the IDs in the core data table that the extension data table rows are providing information about. The ID values in the ID column of the extension data tables do not therefore need to be unique because multiple rows in an extension table may be referring to a single entry in the core data table. In the example described above, multiple species may have been recorded at the same sampling event, and the extension data table will therefore contain multiple rows (one for each of the species recorded) each containig the ID for the relevant sampling event in the ID column of the extension data table. For data being submitted to publication to GBIF, extension data tables must belong to one of the <a href="https://tools.gbif.org/dwca-validator/extensions.do" class="external-link">supported extension types</a>.</p></li>
</ul>
</li>
</ul>
<p>To make it easier to both create and manipulate the contents of Darwin Core archive files, the Living Norway package provides a number of functions and tools for data managers and researchers. The aim of the package and this documentation is to provide a more approachable interface to producing Darwin Core archives without requiring extensive knowledge of both the Darwin Core standard and EML such that the dissemination of data to meet FAIR standards can be more easily integrated into a researcher’s workflow.</p>
<div class="figure">
<img src="images/DwCArchiveSchema.png" alt=""><p class="caption">Structure of a Darwin Core archive file</p>
</div>
</div>
<div class="section level2">
<h2 id="the-living-norway-r-package">The Living Norway R Package<a class="anchor" aria-label="anchor" href="#the-living-norway-r-package"></a>
</h2>
<p>Before we can use any of the functions contained within the Living Norway package we must first install it. At the current time the easiest way to install the Living Norway package is to import the <a href="https://cran.r-project.org/web/packages/devtools/index.html" class="external-link">devtools</a> package and use the “install_github” function to install the package directly from the project’s <a href="https://github.com/LivingNorway/LivingNorwayR" class="external-link">GitHub repository</a>. We hope to distribute future releases of the Living Norway package over <a href="https://cran.r-project.org/" class="external-link">CRAN</a> and, once this is achieved, then installation of the Living Norway package will follow that standard R package installation procedure. In the meantime, the following code will install the necessary packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install the Living Norway package from the Git repository</span>
<span class="co">#devtools::install_github("https://github.com/LivingNorway/LivingNorwayR")</span>
<span class="co"># Import the tools into R</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/LivingNorway/LivingNorwayR" class="external-link">LivingNorwayR</a></span><span class="op">)</span></code></pre></div>
<p>Once the Living Norway package is installed and loaded, a number of classes are added to R that allow for the easier manipulation of Darwin Core archive data and the terms associated with them. What do we mean by ‘classes’? All variables in R belong to a particular class of object. You will already be familiar with some R’s base classes that can used for the handling of information such as data frames, lists, and vectors. The Living Norway package simply contains more class definitions that allow for easier manipulation of the information in Darwin Core archive files:</p>
<ul>
<li>
<strong>DwCTerm</strong> Is a class that contains information about terms used in the Darwin Core standard. Nearly all users of the Living Norway package will never need to create their own terms objects and, for the most part, only interact with terms objects that have been pre-defined from their description in the Darwin Core standard.</li>
<li>
<strong>DwCGeneric</strong> Is a class that the contains the information in the Darwin Core archive data tables but also defines the link between columns in data tables to registered Darwin Core terms. Most users will not use this class directly but will use one of the derived classes that are specialised for particular data table types supported by GBIF. The naming convention for these classes is ‘GBIF’ followed by the GBIF class name (for example, the GBIF implementation of the Event core data table class type is provided by the ‘GBIFEvent’ class).</li>
<li>
<strong>DwCMetadata</strong> This is a class for handling metadata relating the dataset. It allows for the easier import and export of EML files and also allows for the creation of EML files from other file formats such as R markdown files. This will described in greater detail later in this document.</li>
<li>
<strong>DwCArchive</strong> This class contains an object of a DwCGeneric-dervied class for each of the data tables in a Darwin Core archive (one core file plus any number of extension tables) in addition to a DwCMetadata object containing the metadata describing the data tables. The class contains a number of helper functions for importing and exporting data from Darwin Core archive files.</li>
</ul>
<p>The event core table type is supported by the ‘GBIFEvent’ class in the Living Norway package. Similarly the the occurrence core table type is supported by the ‘GBIFOccurrence’ class and the species checklist core table type is supported by the ‘GBIFTaxon’ class. The ‘getGBIFCoreClasses()’ returns a full list of the GBIF core classes handled by the Living Norway R package along with their definition information (represented as ‘DwCTerms’ objects):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/getGBIFCoreClasses.html">getGBIFCoreClasses</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## $GBIFEvent</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/Event - Event</span>
<span class="co">## An action that occurs at some location during some time.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/Event</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/Event-2018-09-06</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2018-09-06</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      A specimen collection process. A camera trap image capture.  A marine trawl.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      DataSets/DataSet/Units/Unit/Gathering</span>
<span class="co">## </span>
<span class="co">## $GBIFOccurrence</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/Occurrence - Occurrence</span>
<span class="co">## An existence of an Organism (sensu http://rs.tdwg.org/dwc/terms/Organism) at a particular place at a particular time.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/Occurrence</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/Occurrence-2020-08-20</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2020-08-20</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      A wolf pack on the shore of Kluane Lake in 1988. A virus in a plant leaf in the New York Botanical Garden at 15:29 on 2014-10-23. A fungus in Central Park in the summer of 1929.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      DataSets/DataSet/Units/Unit</span>
<span class="co">## </span>
<span class="co">## $GBIFTaxon</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/Taxon - Taxon</span>
<span class="co">## A group of organisms (sensu http://purl.obolibrary.org/obo/OBI_0100026) considered by taxonomists to form a homogeneous unit.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/Taxon</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/Taxon-2018-09-06</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2018-09-06</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      The genus Truncorotaloides as published by Brönnimann et al. in 1953 in the Journal of Paleontology Vol. 27(6) p. 817-820.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      no simple equivalent in ABCD</span></code></pre>
<p>The Living Norway packages also supports a large number of classes to handle the broad types of data tables that can be used as extension tables in Darwin Core archive files submitted to GBIF. The full list of extensions possible to use for GBIF-compliant Darwin Core archive files can be found on the <a href="https://tools.gbif.org/dwca-validator/extensions.do" class="external-link">Darwin Core Archive Validator website</a>. The names of the Living Norway classes that can handle these extensions can be found by calling the ‘getGBIFExtensionClasses()’ function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="../reference/getGBIFExtensionClasses.html">getGBIFExtensionClasses</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##  [1] "GBIFMultimedia"                "GBIFChronometricAge"          </span>
<span class="co">##  [3] "GBIFIdentification"            "GBIFMeasurementOrFact"        </span>
<span class="co">##  [5] "GBIFResourceRelationship"      "GBIFEOLMediaExtension"        </span>
<span class="co">##  [7] "GBIFEOLReferencesExtension"    "GBIFDescription"              </span>
<span class="co">##  [9] "GBIFDistribution"              "GBIFdnaDerivedData"           </span>
<span class="co">## [11] "GBIFIdentifier"                "GBIFImage"                    </span>
<span class="co">## [13] "GBIFMultimedia"                "GBIFReference"                </span>
<span class="co">## [15] "GBIFReleve"                    "GBIFSpeciesProfile"           </span>
<span class="co">## [17] "GBIFTypesAndSpecimen"          "GBIFVernacularName"           </span>
<span class="co">## [19] "GBIFGermplasmAccession"        "GBIFMeasurementScore"         </span>
<span class="co">## [21] "GBIFMeasurementTrait"          "GBIFMeasurementTrial"         </span>
<span class="co">## [23] "GBIFAmplification"             "GBIFCloning"                  </span>
<span class="co">## [25] "GBIFGelImage"                  "GBIFLoan"                     </span>
<span class="co">## [27] "GBIFMaterialSample"            "GBIFPermit"                   </span>
<span class="co">## [29] "GBIFPreparation"               "GBIFPreservation"             </span>
<span class="co">## [31] "GBIFGermplasmSample"           "GBIFExtendedMeasurementOrFact"</span>
<span class="co">## [33] "GBIFChronometricAge"           "GBIFChronometricDate"</span></code></pre>
</div>
<div class="section level2">
<h2 id="importing-a-darwin-core-archive-file">Importing a Darwin Core Archive File<a class="anchor" aria-label="anchor" href="#importing-a-darwin-core-archive-file"></a>
</h2>
<p>In order to import a Darwin Core archive file we need to first get hold of a Darwin Core archive file for a dataset that we wish to import. Typically one can download these files manually from using biodiversity database indexing facilities such as <a href="www.gbif.org">GBIF</a>. For this example we will use an example dataset from the “Extensive monitoring of breeding birds” program (<a href="https://tov-e.nina.no/Fugl/Default.aspx" class="external-link">TOV-E</a>), for which the Darwin Core archive file is housed on the IPT server at the <a href="www.nina.no">Norwegian Institute for Nature Research</a>. The overview for this dataset can be found on the <a href="https://www.gbif.org/dataset/4a00502d-6342-4294-aad1-9727e5c24041" class="external-link">GBIF dataset portal</a>. To minimise the number of files needed to be distributed as part of this exercise, we can use the R code below to download and store the Darwin Core archive file in a temporary location.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a temporary directory to store intermediate files used in this workshop</span>
<span class="va">tempDirLoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># The URL where the Darwin Core file for the TOV-E bird survey data is housed</span>
<span class="va">datasetURL</span> <span class="op">&lt;-</span> <span class="st">"https://ipt.nina.no/archive.do?r=tove_birdsampling"</span>
<span class="co"># Download the Darwin Core file to the temporary directory</span>
<span class="va">localDataLoc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"TOVEData.zip"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">datasetURL</span>, <span class="va">localDataLoc</span>, mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></code></pre></div>
<p>Now that we have the Darwin Core archive file stored locally, we can now import it using the “initializeDwCArchive” function in the Living Norway package. We do this by calling the ‘initializeDwCArchive’ function. This function can be called in one of two different ways: it’s first argument can be a location of a Darwin Core archive file (with an optional second argument being a default file encoding for importing the data) and is the easiest way for importing data that already exist as Darwin Core archive, or it can be called using Darwin Core tables constructed using the Living Norway package for the times when you are using the package to construct your own Darwin Core archives. This latter way to call the function will be covered in the later section on archive file creation.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a DwCArchive object from the downloaded Darwin Core archive file</span>
<span class="va">TOVEArchive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeDwCArchive.html">initializeDwCArchive</a></span><span class="op">(</span><span class="va">localDataLoc</span>, <span class="st">"UTF-8"</span><span class="op">)</span></code></pre></div>
<p>In the code block above we specify the file UTF-8 file encoding. By default the encoding will be set to your system and, in most cases will not need to be changed from these defaults. In this example the metadata files in the archive contain a number of Norwegian characters that may be incorrectly imported if we use the default values of your system.</p>
<p>Now that the archive has been imported into a DwCArchive object then we can have a look at a summary of the contents:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Print a summary of the data in the archive object</span>
<span class="va">TOVEArchive</span></code></pre></div>
<pre><code><span class="co">## METADATA</span>
<span class="co">## </span>
<span class="co">## Title: TOV-E Bird monitoring sampling data</span>
<span class="co">## Creators: John Atle Kålås (Norwegian Institute for Nature Research), Ingar Jostein Øien (Birdlife Norway), Bård Stokke (Norsk institutt for naturforskning), Roald Vang (Norwegian Institute for Nature Research)</span>
<span class="co">## Abstract: Data from the project "Extensive monitoring of breeding birds (TOV-E)" from 2006 up until today. The project is carried out in cooperation between BirdLife Norway, Norwegian Institute for Nature Research (NINA) and the Norwegian Environment Agency, and is the most important project for monitoring population trends for Norwegian bird species on land.</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## CORE TABLE</span>
<span class="co">## </span>
<span class="co">## Table name: event | ID column: 1 - "id" | Table class: Event</span>
<span class="co">##                                                            columnIndex</span>
<span class="co">## http://purl.org/dc/terms/type                                        2</span>
<span class="co">## http://purl.org/dc/terms/modified                                    3</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                             4</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                    5</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                     6</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                     7</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                 8</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                        9</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                        10</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                         11</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                         12</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                              13</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                              14</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                   15</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                  16</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                    17</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                             18</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                19</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                            20</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                          21</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                           22</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                               23</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters               24</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters               25</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                        26</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                       27</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                          28</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters          29</span>
<span class="co">##                                                                               columnName</span>
<span class="co">## http://purl.org/dc/terms/type                                                       type</span>
<span class="co">## http://purl.org/dc/terms/modified                                               modified</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                                     datasetName</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                   ownerInstitutionCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                     informationWithheld</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                     dataGeneralizations</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                             eventID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                           samplingProtocol</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                             sampleSizeValue</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                               sampleSizeUnit</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                               samplingEffort</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                                         eventDate</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                                         eventTime</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                                   year</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                                 month</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                                     day</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                                       locationID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                             country</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                                     countryCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                                 stateProvince</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                                   municipality</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                                           locality</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters           minimumElevationInMeters</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters           maximumElevationInMeters</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                             decimalLatitude</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                           decimalLongitude</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                                 geodeticDatum</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters coordinateUncertaintyInMeters</span>
<span class="co">##                                     id  type                modified</span>
<span class="co">## 1 7B888854-72DF-41AF-A09D-4AC963D2B7D2 Event 2012-04-12T15:03:57.710</span>
<span class="co">## 2 E8E6C2D0-CD3C-435E-BB0A-EE521FDEED73 Event     2008-05-30T00:00:00</span>
<span class="co">## 3 C936B129-AEDF-4F15-B394-A67A048AC12B Event 2010-11-11T21:43:04.873</span>
<span class="co">## 4 46775141-2D2F-4F8D-91FD-7D8328EC0D55 Event 2011-05-22T11:02:16.047</span>
<span class="co">## 5 86CB0FA8-23DC-44E2-8130-834EC7EAABAA Event 2013-01-11T16:54:48.147</span>
<span class="co">## 6 AA006F91-EA3C-4382-A30C-56575245A1C2 Event 2013-08-23T09:02:49.753</span>
<span class="co">##             datasetName ownerInstitutionCode</span>
<span class="co">## 1 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 2 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 3 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 4 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 5 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 6 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">##                                                                                        informationWithheld</span>
<span class="co">## 1 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 2 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 3 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 4 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 5 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 6 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">##                                       dataGeneralizations</span>
<span class="co">## 1 Location laid out randomly within 5km from centre point</span>
<span class="co">## 2 Location laid out randomly within 5km from centre point</span>
<span class="co">## 3 Location laid out randomly within 5km from centre point</span>
<span class="co">## 4 Location laid out randomly within 5km from centre point</span>
<span class="co">## 5 Location laid out randomly within 5km from centre point</span>
<span class="co">## 6 Location laid out randomly within 5km from centre point</span>
<span class="co">##                                eventID</span>
<span class="co">## 1 7B888854-72DF-41AF-A09D-4AC963D2B7D2</span>
<span class="co">## 2 E8E6C2D0-CD3C-435E-BB0A-EE521FDEED73</span>
<span class="co">## 3 C936B129-AEDF-4F15-B394-A67A048AC12B</span>
<span class="co">## 4 46775141-2D2F-4F8D-91FD-7D8328EC0D55</span>
<span class="co">## 5 86CB0FA8-23DC-44E2-8130-834EC7EAABAA</span>
<span class="co">## 6 AA006F91-EA3C-4382-A30C-56575245A1C2</span>
<span class="co">##                                                   samplingProtocol</span>
<span class="co">## 1 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 2 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 3 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 4 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 5 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 6 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">##   sampleSizeValue sampleSizeUnit                 samplingEffort  eventDate</span>
<span class="co">## 1            5366          metre 255 minutes/17 sampling points 2007-06-03</span>
<span class="co">## 2            5366          metre 245 minutes/17 sampling points 2008-05-30</span>
<span class="co">## 3            5366          metre 240 minutes/17 sampling points 2010-05-29</span>
<span class="co">## 4            5366          metre 270 minutes/17 sampling points 2011-05-22</span>
<span class="co">## 5            5366          metre 330 minutes/17 sampling points 2012-06-02</span>
<span class="co">## 6            5366          metre 225 minutes/17 sampling points 2013-06-02</span>
<span class="co">##     eventTime year month day locationID country countryCode stateProvince</span>
<span class="co">## 1  3:55/08:10 2007     6   3        101  Norway          NO         Viken</span>
<span class="co">## 2 04:05/08:10 2008     5  30        101  Norway          NO         Viken</span>
<span class="co">## 3 05:00/09:00 2010     5  29        101  Norway          NO         Viken</span>
<span class="co">## 4 04:00/08:30 2011     5  22        101  Norway          NO         Viken</span>
<span class="co">## 5  4:30/10:00 2012     6   2        101  Norway          NO         Viken</span>
<span class="co">## 6 04:15/08:00 2013     6   2        101  Norway          NO         Viken</span>
<span class="co">##   municipality    locality minimumElevationInMeters maximumElevationInMeters</span>
<span class="co">## 1       Halden Skogskroken                      190                      220</span>
<span class="co">## 2       Halden Skogskroken                      190                      220</span>
<span class="co">## 3       Halden Skogskroken                      190                      220</span>
<span class="co">## 4       Halden Skogskroken                      190                      220</span>
<span class="co">## 5       Halden Skogskroken                      190                      220</span>
<span class="co">## 6       Halden Skogskroken                      190                      220</span>
<span class="co">##   decimalLatitude decimalLongitude geodeticDatum coordinateUncertaintyInMeters</span>
<span class="co">## 1        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 2        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 3        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 4        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 5        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 6        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## EXTENSION TABLES</span>
<span class="co">## </span>
<span class="co">## Table name: occurrence | ID column: 1 - "id" | Table class: Occurrence</span>
<span class="co">##                                                   columnIndex</span>
<span class="co">## http://purl.org/dc/terms/type                               2</span>
<span class="co">## http://purl.org/dc/terms/modified                           3</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionCode                 4</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/basisOfRecord                  5</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceID                   6</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/catalogNumber                  7</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceRemarks              8</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantity               9</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantityType          10</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceStatus              11</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                       12</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificName                13</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/kingdom                       14</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/phylum                        15</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/class                         16</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/order                         17</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/family                        18</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/genus                         19</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/specificEpithet               20</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/vernacularName                21</span>
<span class="co">##                                                             columnName</span>
<span class="co">## http://purl.org/dc/terms/type                                     type</span>
<span class="co">## http://purl.org/dc/terms/modified                             modified</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionCode             collectionCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/basisOfRecord               basisOfRecord</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceID                 occurrenceID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/catalogNumber               catalogNumber</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceRemarks       occurrenceRemarks</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantity         organismQuantity</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantityType organismQuantityType</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceStatus         occurrenceStatus</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                           eventID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificName             scientificName</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/kingdom                           kingdom</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/phylum                             phylum</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/class                               class</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/order                               order</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/family                             family</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/genus                               genus</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/specificEpithet           specificEpithet</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/vernacularName             vernacularName</span>
<span class="co">##                                     id       type                modified</span>
<span class="co">## 1 B5538DE6-437D-4B61-9CB0-8AE7CAF4D5A4 Occurrence 2012-06-19T23:33:30.053</span>
<span class="co">## 2 BC7AB7CC-B9D9-433B-95E3-1609CD305E35 Occurrence 2013-07-08T22:06:26.513</span>
<span class="co">## 3 29E73B38-950D-4EE1-A0B6-8443E7C219D2 Occurrence 2018-06-05T17:52:53.957</span>
<span class="co">## 4 87416FAD-8400-48BF-B523-0BD0DF22ACDC Occurrence 2019-08-02T10:49:23.403</span>
<span class="co">## 5 8640104C-3DA0-45BB-B6FE-C9522D58CEAA Occurrence 2021-10-20T22:45:15.517</span>
<span class="co">## 6 860EEAB7-71E5-455B-9A7D-C332AD49E093 Occurrence 2021-08-16T15:50:41.977</span>
<span class="co">##                                 collectionCode    basisOfRecord</span>
<span class="co">## 1 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 2 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 3 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 4 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 5 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 6 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">##                        occurrenceID catalogNumber</span>
<span class="co">## 1 urn:catalog:NINA:TOV-E:2012180410    2012180410</span>
<span class="co">## 2 urn:catalog:NINA:TOV-E:2013180410    2013180410</span>
<span class="co">## 3 urn:catalog:NINA:TOV-E:2018180410    2018180410</span>
<span class="co">## 4 urn:catalog:NINA:TOV-E:2019180410    2019180410</span>
<span class="co">## 5 urn:catalog:NINA:TOV-E:2020180410    2020180410</span>
<span class="co">## 6 urn:catalog:NINA:TOV-E:2021180410    2021180410</span>
<span class="co">##                                                                occurrenceRemarks</span>
<span class="co">## 1 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 2 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 3 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 4 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 5 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 6 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">##   organismQuantity organismQuantityType occurrenceStatus</span>
<span class="co">## 1                1                pairs          PRESENT</span>
<span class="co">## 2                1                pairs          PRESENT</span>
<span class="co">## 3                2                pairs          PRESENT</span>
<span class="co">## 4                2                pairs          PRESENT</span>
<span class="co">## 5                3                pairs          PRESENT</span>
<span class="co">## 6                1                pairs          PRESENT</span>
<span class="co">##                                eventID scientificName  kingdom   phylum class</span>
<span class="co">## 1 B5538DE6-437D-4B61-9CB0-8AE7CAF4D5A4 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 2 BC7AB7CC-B9D9-433B-95E3-1609CD305E35 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 3 29E73B38-950D-4EE1-A0B6-8443E7C219D2 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 4 87416FAD-8400-48BF-B523-0BD0DF22ACDC Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 5 8640104C-3DA0-45BB-B6FE-C9522D58CEAA Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 6 860EEAB7-71E5-455B-9A7D-C332AD49E093 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">##         order   family genus specificEpithet vernacularName</span>
<span class="co">## 1 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 2 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 3 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 4 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 5 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 6 Gaviiformes Gaviidae Gavia        stellata         Smålom</span></code></pre>
<p>The top section of the output gives a brief summary of the metadata associated with the project. What follows the metadata is a summary of each of the data tables contained in the archive: firstly the core data table followed by each extension data table in the archive. The first line of the summary of each data table gives the name of the file in the archive (in this case the core file was called ‘event’), followed by the column that serves as an ID column for the data table, and finally the class of data table (in the case of this example the core data table is of type ‘Event’ which corresponds to the GBIF event core category of archive files). Below this line is a list of each of the columns in the data table that have been linked to a standardised definition such as Darwin Core. These are columns that have a meaning that corresponds to a definition determined by a standardisation committee and for which the definition is publically accessible. Each row of this definition summary table starts with the location where the term definition can be found (in most cases an <a href="https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier" class="external-link">Internationalized Resource Identifier</a>) followed by the column number and, if the data table has column names, the name of the column corresponding to this column number. Below the definition list is a snippet of the data contained in the data table (usually just the first six rows).</p>
<p>We can select out the core data table from the Darwin Core archive and even retrieve it as a data frame. Extracting information about objects can be done by using the R6 ‘method functions’ defined for the classes defining those objects. Under this object model method functions are used by using the ‘$’ notation after the object you want to call the method function for, followed by the name of the method function you want to call. For example, the DwCArchive class has the method function ‘getCoreTable’ that allows the user to extract the core table from the archive object. Once a particular data table is extracted then the user can use the method functions defined by the DwCGeneric class that allows for further manipulation of the individual data tables.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the core table from the archive object</span>
<span class="va">TOVEEventTable</span> <span class="op">&lt;-</span> <span class="va">TOVEArchive</span><span class="op">$</span><span class="fu">getCoreTable</span><span class="op">(</span><span class="op">)</span>
<span class="co"># TOVEEvent table is an object of type GBIFEvent which is derived from DwCGeneric</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">TOVEEventTable</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "GBIFEvent"  "DwCGeneric" "R6"</span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Export the contents of the event table to a data frame</span>
<span class="va">TOVEEventTableDF</span> <span class="op">&lt;-</span> <span class="va">TOVEEventTable</span><span class="op">$</span><span class="fu">exportAsDataFrame</span><span class="op">(</span><span class="op">)</span>
<span class="co"># Lets look at the top few rows of the data frame extracted from the core data table</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">TOVEEventTableDF</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##                                     id  type                modified</span>
<span class="co">## 1 7B888854-72DF-41AF-A09D-4AC963D2B7D2 Event 2012-04-12T15:03:57.710</span>
<span class="co">## 2 E8E6C2D0-CD3C-435E-BB0A-EE521FDEED73 Event     2008-05-30T00:00:00</span>
<span class="co">## 3 C936B129-AEDF-4F15-B394-A67A048AC12B Event 2010-11-11T21:43:04.873</span>
<span class="co">## 4 46775141-2D2F-4F8D-91FD-7D8328EC0D55 Event 2011-05-22T11:02:16.047</span>
<span class="co">## 5 86CB0FA8-23DC-44E2-8130-834EC7EAABAA Event 2013-01-11T16:54:48.147</span>
<span class="co">## 6 AA006F91-EA3C-4382-A30C-56575245A1C2 Event 2013-08-23T09:02:49.753</span>
<span class="co">##             datasetName ownerInstitutionCode</span>
<span class="co">## 1 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 2 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 3 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 4 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 5 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">## 6 TOV-E Bird monitoring             NINA/NOF</span>
<span class="co">##                                                                                        informationWithheld</span>
<span class="co">## 1 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 2 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 3 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 4 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 5 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">## 6 Exact location withheld to protect long-term study. Observers identity withheld due to GDPR restrictions</span>
<span class="co">##                                       dataGeneralizations</span>
<span class="co">## 1 Location laid out randomly within 5km from centre point</span>
<span class="co">## 2 Location laid out randomly within 5km from centre point</span>
<span class="co">## 3 Location laid out randomly within 5km from centre point</span>
<span class="co">## 4 Location laid out randomly within 5km from centre point</span>
<span class="co">## 5 Location laid out randomly within 5km from centre point</span>
<span class="co">## 6 Location laid out randomly within 5km from centre point</span>
<span class="co">##                                eventID</span>
<span class="co">## 1 7B888854-72DF-41AF-A09D-4AC963D2B7D2</span>
<span class="co">## 2 E8E6C2D0-CD3C-435E-BB0A-EE521FDEED73</span>
<span class="co">## 3 C936B129-AEDF-4F15-B394-A67A048AC12B</span>
<span class="co">## 4 46775141-2D2F-4F8D-91FD-7D8328EC0D55</span>
<span class="co">## 5 86CB0FA8-23DC-44E2-8130-834EC7EAABAA</span>
<span class="co">## 6 AA006F91-EA3C-4382-A30C-56575245A1C2</span>
<span class="co">##                                                   samplingProtocol</span>
<span class="co">## 1 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 2 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 3 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 4 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 5 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">## 6 https://tov-e.nina.no/Fugl/public/papirskjema/MethodologyEng.pdf</span>
<span class="co">##   sampleSizeValue sampleSizeUnit                 samplingEffort  eventDate</span>
<span class="co">## 1            5366          metre 255 minutes/17 sampling points 2007-06-03</span>
<span class="co">## 2            5366          metre 245 minutes/17 sampling points 2008-05-30</span>
<span class="co">## 3            5366          metre 240 minutes/17 sampling points 2010-05-29</span>
<span class="co">## 4            5366          metre 270 minutes/17 sampling points 2011-05-22</span>
<span class="co">## 5            5366          metre 330 minutes/17 sampling points 2012-06-02</span>
<span class="co">## 6            5366          metre 225 minutes/17 sampling points 2013-06-02</span>
<span class="co">##     eventTime year month day locationID country countryCode stateProvince</span>
<span class="co">## 1  3:55/08:10 2007     6   3        101  Norway          NO         Viken</span>
<span class="co">## 2 04:05/08:10 2008     5  30        101  Norway          NO         Viken</span>
<span class="co">## 3 05:00/09:00 2010     5  29        101  Norway          NO         Viken</span>
<span class="co">## 4 04:00/08:30 2011     5  22        101  Norway          NO         Viken</span>
<span class="co">## 5  4:30/10:00 2012     6   2        101  Norway          NO         Viken</span>
<span class="co">## 6 04:15/08:00 2013     6   2        101  Norway          NO         Viken</span>
<span class="co">##   municipality    locality minimumElevationInMeters maximumElevationInMeters</span>
<span class="co">## 1       Halden Skogskroken                      190                      220</span>
<span class="co">## 2       Halden Skogskroken                      190                      220</span>
<span class="co">## 3       Halden Skogskroken                      190                      220</span>
<span class="co">## 4       Halden Skogskroken                      190                      220</span>
<span class="co">## 5       Halden Skogskroken                      190                      220</span>
<span class="co">## 6       Halden Skogskroken                      190                      220</span>
<span class="co">##   decimalLatitude decimalLongitude geodeticDatum coordinateUncertaintyInMeters</span>
<span class="co">## 1        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 2        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 3        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 4        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 5        58.91206         11.62238     EPSG:4326                          5000</span>
<span class="co">## 6        58.91206         11.62238     EPSG:4326                          5000</span></code></pre>
<p>Similarly, extension tables can be extracted from the archive by using the ‘getExtensionTables’ method function of the DwCArchive class. This function has one argument that is either an integer vector containing the indeces of the extension tables (in the order that they are displayed in the summary of the archive file) or a character vector giving the names of the tables in the archive file (those names are found in the first summary line of each data table when displaying the archive summary). This function returns a list of the data tables requested. Therefore to extract just the one we want, we’ll need to further index the list with the ‘[[1]]’ notation to extract the first element of the returned list.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the extension table from the archive object: two ways to do this</span>
<span class="co"># 1. Retrieve the extension table by using its index</span>
<span class="va">TOVEOccTable</span> <span class="op">&lt;-</span> <span class="va">TOVEArchive</span><span class="op">$</span><span class="fu">getExtensionTables</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co"># 2. Retrieve the extension table by using its name</span>
<span class="va">TOVEOccTable</span> <span class="op">&lt;-</span> <span class="va">TOVEArchive</span><span class="op">$</span><span class="fu">getExtensionTables</span><span class="op">(</span><span class="st">"occurrence"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co"># The getExtensionTables functions returns a list of the data tables that are requested.  Therefore to extract just the first element of this list we need</span>
<span class="co"># to use the extra '[[1]]' list extraction notation.</span>
<span class="co"># TOVEOccTable is an object of type GBIFOccurrence which is dervied from DwCGeneric</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">TOVEOccTable</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "GBIFOccurrence" "DwCGeneric"     "R6"</span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Export the contents of the occurrence table to a data frame</span>
<span class="va">TOVEOccTableDF</span> <span class="op">&lt;-</span> <span class="va">TOVEOccTable</span><span class="op">$</span><span class="fu">exportAsDataFrame</span><span class="op">(</span><span class="op">)</span>
<span class="co"># Lets look at the top few rows of the data frame extracted from the extension data table</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">TOVEOccTableDF</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##                                     id       type                modified</span>
<span class="co">## 1 B5538DE6-437D-4B61-9CB0-8AE7CAF4D5A4 Occurrence 2012-06-19T23:33:30.053</span>
<span class="co">## 2 BC7AB7CC-B9D9-433B-95E3-1609CD305E35 Occurrence 2013-07-08T22:06:26.513</span>
<span class="co">## 3 29E73B38-950D-4EE1-A0B6-8443E7C219D2 Occurrence 2018-06-05T17:52:53.957</span>
<span class="co">## 4 87416FAD-8400-48BF-B523-0BD0DF22ACDC Occurrence 2019-08-02T10:49:23.403</span>
<span class="co">## 5 8640104C-3DA0-45BB-B6FE-C9522D58CEAA Occurrence 2021-10-20T22:45:15.517</span>
<span class="co">## 6 860EEAB7-71E5-455B-9A7D-C332AD49E093 Occurrence 2021-08-16T15:50:41.977</span>
<span class="co">##                                 collectionCode    basisOfRecord</span>
<span class="co">## 1 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 2 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 3 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 4 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 5 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">## 6 TOV - Extensive monitoring of bird in Norway HumanObservation</span>
<span class="co">##                        occurrenceID catalogNumber</span>
<span class="co">## 1 urn:catalog:NINA:TOV-E:2012180410    2012180410</span>
<span class="co">## 2 urn:catalog:NINA:TOV-E:2013180410    2013180410</span>
<span class="co">## 3 urn:catalog:NINA:TOV-E:2018180410    2018180410</span>
<span class="co">## 4 urn:catalog:NINA:TOV-E:2019180410    2019180410</span>
<span class="co">## 5 urn:catalog:NINA:TOV-E:2020180410    2020180410</span>
<span class="co">## 6 urn:catalog:NINA:TOV-E:2021180410    2021180410</span>
<span class="co">##                                                                occurrenceRemarks</span>
<span class="co">## 1 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 2 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 3 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 4 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 5 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">## 6 aggregated count for 15 sampling points situated less than 5000m from location</span>
<span class="co">##   organismQuantity organismQuantityType occurrenceStatus</span>
<span class="co">## 1                1                pairs          PRESENT</span>
<span class="co">## 2                1                pairs          PRESENT</span>
<span class="co">## 3                2                pairs          PRESENT</span>
<span class="co">## 4                2                pairs          PRESENT</span>
<span class="co">## 5                3                pairs          PRESENT</span>
<span class="co">## 6                1                pairs          PRESENT</span>
<span class="co">##                                eventID scientificName  kingdom   phylum class</span>
<span class="co">## 1 B5538DE6-437D-4B61-9CB0-8AE7CAF4D5A4 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 2 BC7AB7CC-B9D9-433B-95E3-1609CD305E35 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 3 29E73B38-950D-4EE1-A0B6-8443E7C219D2 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 4 87416FAD-8400-48BF-B523-0BD0DF22ACDC Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 5 8640104C-3DA0-45BB-B6FE-C9522D58CEAA Gavia stellata Animalia Chordata  Aves</span>
<span class="co">## 6 860EEAB7-71E5-455B-9A7D-C332AD49E093 Gavia stellata Animalia Chordata  Aves</span>
<span class="co">##         order   family genus specificEpithet vernacularName</span>
<span class="co">## 1 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 2 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 3 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 4 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 5 Gaviiformes Gaviidae Gavia        stellata         Smålom</span>
<span class="co">## 6 Gaviiformes Gaviidae Gavia        stellata         Smålom</span></code></pre>
<p>It is possible to extract elements from the archive metadata. The ‘getMetadata’ method of the DwCArchive class returns a DwCMetadata object. From this object it is possible to access elements of the metadata.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the metadata from the archive object</span>
<span class="va">TOVEMetadata</span> <span class="op">&lt;-</span> <span class="va">TOVEArchive</span><span class="op">$</span><span class="fu">getMetadata</span><span class="op">(</span><span class="op">)</span>
<span class="co"># Retrieve the title of the data set</span>
<span class="va">TOVEMetadata</span><span class="op">$</span><span class="fu">getTitle</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "TOV-E Bird monitoring sampling data"</span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the abstract/summary of the data set</span>
<span class="va">TOVEMetadata</span><span class="op">$</span><span class="fu">getAbstract</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "Data from the project \"Extensive monitoring of breeding birds (TOV-E)\" from 2006 up until today. The project is carried out in cooperation between BirdLife Norway, Norwegian Institute for Nature Research (NINA) and the Norwegian Environment Agency, and is the most important project for monitoring population trends for Norwegian bird species on land."</span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the information on the data set creators</span>
<span class="va">TOVEMetadata</span><span class="op">$</span><span class="fu">getCreatorInfo</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [[1]]</span>
<span class="co">## [[1]]$individualName</span>
<span class="co">## [[1]]$individualName$givenName</span>
<span class="co">## [1] "John Atle"</span>
<span class="co">## </span>
<span class="co">## [[1]]$individualName$surName</span>
<span class="co">## [1] "Kålås"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[1]]$organizationName</span>
<span class="co">## [1] "Norwegian Institute for Nature Research"</span>
<span class="co">## </span>
<span class="co">## [[1]]$positionName</span>
<span class="co">## [1] "Senior Researcher"</span>
<span class="co">## </span>
<span class="co">## [[1]]$address</span>
<span class="co">## [[1]]$address$deliveryPoint</span>
<span class="co">## [1] "Postboks 5685 Sluppen"</span>
<span class="co">## </span>
<span class="co">## [[1]]$address$city</span>
<span class="co">## [1] "Trondheim"</span>
<span class="co">## </span>
<span class="co">## [[1]]$address$postalCode</span>
<span class="co">## [1] "7485"</span>
<span class="co">## </span>
<span class="co">## [[1]]$address$country</span>
<span class="co">## [1] "NO"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[1]]$electronicMailAddress</span>
<span class="co">## [1] "john.kalas@nina.no"</span>
<span class="co">## </span>
<span class="co">## [[1]]$userId</span>
<span class="co">## [1] "0000-0002-2126-0261"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[2]]</span>
<span class="co">## [[2]]$individualName</span>
<span class="co">## [[2]]$individualName$givenName</span>
<span class="co">## [1] "Ingar Jostein"</span>
<span class="co">## </span>
<span class="co">## [[2]]$individualName$surName</span>
<span class="co">## [1] "Øien"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[2]]$organizationName</span>
<span class="co">## [1] "Birdlife Norway"</span>
<span class="co">## </span>
<span class="co">## [[2]]$positionName</span>
<span class="co">## [1] "Fagsjef"</span>
<span class="co">## </span>
<span class="co">## [[2]]$address</span>
<span class="co">## [[2]]$address$deliveryPoint</span>
<span class="co">## [1] "Sandgata 30 B"</span>
<span class="co">## </span>
<span class="co">## [[2]]$address$city</span>
<span class="co">## [1] "Trondheim"</span>
<span class="co">## </span>
<span class="co">## [[2]]$address$postalCode</span>
<span class="co">## [1] "7012"</span>
<span class="co">## </span>
<span class="co">## [[2]]$address$country</span>
<span class="co">## [1] "NO"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[2]]$electronicMailAddress</span>
<span class="co">## [1] "ingar@birdlife.no"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[3]]</span>
<span class="co">## [[3]]$individualName</span>
<span class="co">## [[3]]$individualName$givenName</span>
<span class="co">## [1] "Bård"</span>
<span class="co">## </span>
<span class="co">## [[3]]$individualName$surName</span>
<span class="co">## [1] "Stokke"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[3]]$organizationName</span>
<span class="co">## [1] "Norsk institutt for naturforskning"</span>
<span class="co">## </span>
<span class="co">## [[3]]$positionName</span>
<span class="co">## [1] "Senior Researcher"</span>
<span class="co">## </span>
<span class="co">## [[3]]$address</span>
<span class="co">## [[3]]$address$deliveryPoint</span>
<span class="co">## [1] "Postboks 5685 Sluppen"</span>
<span class="co">## </span>
<span class="co">## [[3]]$address$city</span>
<span class="co">## [1] "Trondheim"</span>
<span class="co">## </span>
<span class="co">## [[3]]$address$postalCode</span>
<span class="co">## [1] "7485"</span>
<span class="co">## </span>
<span class="co">## [[3]]$address$country</span>
<span class="co">## [1] "NO"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[3]]$phone</span>
<span class="co">## [1] "91138256"</span>
<span class="co">## </span>
<span class="co">## [[3]]$electronicMailAddress</span>
<span class="co">## [1] "bard.stokke@nina.no"</span>
<span class="co">## </span>
<span class="co">## [[3]]$userId</span>
<span class="co">## [1] "0000-0001-5589-6738"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[4]]</span>
<span class="co">## [[4]]$individualName</span>
<span class="co">## [[4]]$individualName$givenName</span>
<span class="co">## [1] "Roald"</span>
<span class="co">## </span>
<span class="co">## [[4]]$individualName$surName</span>
<span class="co">## [1] "Vang"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[4]]$organizationName</span>
<span class="co">## [1] "Norwegian Institute for Nature Research"</span>
<span class="co">## </span>
<span class="co">## [[4]]$positionName</span>
<span class="co">## [1] "Data manager"</span>
<span class="co">## </span>
<span class="co">## [[4]]$address</span>
<span class="co">## [[4]]$address$deliveryPoint</span>
<span class="co">## [1] "Postboks 5685 Sluppen"</span>
<span class="co">## </span>
<span class="co">## [[4]]$address$city</span>
<span class="co">## [1] "Trondheim"</span>
<span class="co">## </span>
<span class="co">## [[4]]$address$postalCode</span>
<span class="co">## [1] "7485"</span>
<span class="co">## </span>
<span class="co">## [[4]]$address$country</span>
<span class="co">## [1] "NO"</span>
<span class="co">## </span>
<span class="co">## </span>
<span class="co">## [[4]]$electronicMailAddress</span>
<span class="co">## [1] "roald.vang@nina.no"</span>
<span class="co">## </span>
<span class="co">## [[4]]$userId</span>
<span class="co">## [1] "0000-0002-4006-8689"</span></code></pre>
</div>
<div class="section level2">
<h2 id="creating-a-darwin-core-archive-file">Creating a Darwin Core Archive File<a class="anchor" aria-label="anchor" href="#creating-a-darwin-core-archive-file"></a>
</h2>
<div class="section level3">
<h3 id="creating-the-data-tables">Creating the Data Tables<a class="anchor" aria-label="anchor" href="#creating-the-data-tables"></a>
</h3>
<p>So far we’ve talked about how to import data being provided as a Darwin Core archive file but a key feature of the Living Norway package is to make it easier for researchers to go from their data (stored as data frames) to a complete Darwin Core archive. To demonstrate this, we use the data frames created that we extracted in the code blocks above and use this as a starting point for creating a Darwin core archive file. For most researchers this is a common starting point as their data sets are often represented by a collection of data tables that are either already data frame or that can be easily read into data frames. So, from this data frame starting point, we have two tables: ‘TOVEEventTableDF’ and ‘TOVEOccTableDF’. Our first decision, is to designate one of the tables as the core data table. In this instance we already know that it is ‘TOVEEventDF’ but, in the case where you are processing your own data sets, the core data table is always the one that the sampling unit is based around. For most ecological experimental designs, the table denoting the sampling events (handled in the Living Norway package by the GBIFEvent class) is a natural core table. Under this format, each sampling event and its details, such as location and time of sampling, is described in the core table. Often what was recorded at each sampling event is described in the extension files. In situations where the only thing measured at each sampling event is the occurrence of a species then the table describing these occurrences would be designated as the core data table (corresponding to the GBIFOccurrence class in the Living Norway package). In some situations the dataset may not be based around occurrences or sampling events but simply a check list of species (or other taxonomic groups=. This latter case can be handled by using a core data table that lists these taxa and is handled in the Living Norway package with the ‘GBIFTaxon’ class.</p>
<p>So we’ve decided that the core data table should be the ‘TOVEEventTableDF’ data frame and that this data table is an event-based core. To initialise a GBIF-complaint event table we can use the ‘initializeGBIFEvent’ function. This function requires two arguments: the data frame making up the table and a column (given as either a column name or column number) to represent the ID information. If the table is going to be used as a core table then this ID column must contain unique values for each row and will serve as a key to link extension data tables to the core table. After these two mandatory arguments are given then the user must specify how the columns (if any) relate to definitions in the Darwin Core standard for that data table type. This can be done in one of two ways: either the data frame can have column names that correspond to Darwin Core terms relevant to the data table type and then the user can simply add the argument ‘nameAutoMap = TRUE’ to the initialisation function and it will look for any column names that correspond to Darwin Core terms, or the user can add arguments with names corresponding to each Darwin Core term and set that argument either as a column name or column number. The ‘getGBIFEventMembers’ function returns a list of all the Darwin Core terms associated with GBIF-compliant event data tables.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Look at the Darwin Core terms associated with event data tables (here we've shortened it to the first 6 entries so that the output is not too long)</span>
<span class="fu"><a href="../reference/getGBIFEventMembers.html">getGBIFEventMembers</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">## $`http://purl.org/dc/terms/type`</span>
<span class="co">## http://purl.org/dc/terms/type - Type (DEPRECATED)</span>
<span class="co">## The nature or genre of the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/type</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Is replaced by: http://purl.org/dc/elements/1.1/type</span>
<span class="co">##  Notes:</span>
<span class="co">##      To provide a string literal value for type, use dc:type rather than this term. In accordance with the Darwin Core RDF guide, rdf:type should be used instead of this term to indicate an IRI value for type.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2009-12-07_1</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_20</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      This term is deprecated and should no longer be used.</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/modified`</span>
<span class="co">## http://purl.org/dc/terms/modified - Date Modified</span>
<span class="co">## The most recent date-time on which the resource was changed.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/modified</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#modified-003</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2020-08-12</span>
<span class="co">##  Notes:</span>
<span class="co">##      Recommended best practice is to use a date that conforms to ISO 8601-1:2019.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##  Examples:</span>
<span class="co">##      1963-03-08T14:07-0600 (8 Mar 1963 at 2:07pm in the time zone six hours earlier than UTC). 2009-02-20T08:40Z (20 February 2009 8:40am UTC). 2018-08-29T15:19 (3:19pm local time on 29 August 2018). 1809-02-12 (some time during 12 February 1809). 1906-06 (some time in June 1906). 1971 (some time in the year 1971). 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z (some time during the interval between 1 March 2007 1pm UTC and 11 May 2008 3:30pm UTC). 1900/1909 (some time during the interval between the beginning of the year 1900 and the end of the year 1909). 2007-11-13/15 (some time in the interval between 13 November 2007 and 15 November 2007).</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/language`</span>
<span class="co">## http://purl.org/dc/terms/language - Language</span>
<span class="co">## A language of the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/language</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#languageT-001</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Notes:</span>
<span class="co">##      Recommended best practice is to use an IRI from the Library of Congress ISO 639-2 scheme http://id.loc.gov/vocabulary/iso639-2</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/license`</span>
<span class="co">## http://purl.org/dc/terms/license - License</span>
<span class="co">## A legal document giving official permission to do something with the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/license</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#license-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-11-06_17</span>
<span class="co">##  Examples:</span>
<span class="co">##      http://creativecommons.org/publicdomain/zero/1.0/legalcode, http://creativecommons.org/licenses/by/4.0/legalcode</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/rightsHolder`</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder - Rights Holder</span>
<span class="co">## A person or organization owning or managing rights over the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/rightsHolder</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#rightsHolder-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Examples:</span>
<span class="co">##      The Regents of the University of California</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/accessRights`</span>
<span class="co">## http://purl.org/dc/terms/accessRights - Access Rights</span>
<span class="co">## Information about who can access the resource or an indication of its security status.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/accessRights</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#accessRights-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Notes:</span>
<span class="co">##      Access Rights may include information regarding access or restrictions based on privacy, security, or other policies.</span>
<span class="co">##  Examples:</span>
<span class="co">##      not-for-profit use only, https://www.fieldmuseum.org/field-museum-natural-history-conditions-and-suggested-norms-use-collections-data-and-images</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Call the initialisation function using the two different methods:</span>
<span class="co"># 1. Using the automatic mapping method</span>
<span class="va">newTOVEEventTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeGBIFEvent.html">initializeGBIFEvent</a></span><span class="op">(</span><span class="va">TOVEEventTableDF</span>, <span class="st">"id"</span>, nameAutoMap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co"># 2. Using the manual mapping method</span>
<span class="va">newTOVEEventTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeGBIFEvent.html">initializeGBIFEvent</a></span><span class="op">(</span><span class="va">TOVEEventTableDF</span>, <span class="st">"id"</span>,
  <span class="co"># What follows is a list of arguments giving Darwin Core terms followed by the column name (or number)</span>
  <span class="co"># in the data frame that corresponds to those terms.  In this example it doesn't make much sense to</span>
  <span class="co"># call the initialisation function in this manner because all the column names correspond to</span>
  <span class="co"># Darwin terms anyway (so much easier to use the first method).  However, this alternative method</span>
  <span class="co"># can be useful if the column names are different from the Darwin Core terms that they represent or</span>
  <span class="co"># for data frame that don't have column names (in which case column numbers can be given as the</span>
  <span class="co"># argument values instead).</span>
  type <span class="op">=</span> <span class="st">"type"</span>,
  modified <span class="op">=</span> <span class="st">"modified"</span>,
  datasetName <span class="op">=</span> <span class="st">"datasetName"</span>,
  ownerInstitutionCode <span class="op">=</span> <span class="st">"ownerInstitutionCode"</span>,
  informationWithheld <span class="op">=</span> <span class="st">"informationWithheld"</span>,
  dataGeneralizations <span class="op">=</span> <span class="st">"dataGeneralizations"</span>,
  eventID <span class="op">=</span> <span class="st">"eventID"</span>,
  samplingProtocol <span class="op">=</span> <span class="st">"samplingProtocol"</span>,
  sampleSizeValue <span class="op">=</span> <span class="st">"sampleSizeValue"</span>,
  sampleSizeUnit <span class="op">=</span> <span class="st">"sampleSizeUnit"</span>,
  samplingEffort <span class="op">=</span> <span class="st">"samplingEffort"</span>,
  eventDate <span class="op">=</span> <span class="st">"eventDate"</span>,
  eventTime <span class="op">=</span> <span class="st">"eventTime"</span>,
  year <span class="op">=</span> <span class="st">"year"</span>,
  month <span class="op">=</span> <span class="st">"month"</span>,
  day <span class="op">=</span> <span class="st">"day"</span>,
  locationID <span class="op">=</span> <span class="st">"locationID"</span>,
  country <span class="op">=</span> <span class="st">"country"</span>,
  countryCode <span class="op">=</span> <span class="st">"countryCode"</span>,
  stateProvince <span class="op">=</span> <span class="st">"stateProvince"</span>,
  municipality <span class="op">=</span> <span class="st">"municipality"</span>,
  locality <span class="op">=</span> <span class="st">"locality"</span>,
  minimumElevationInMeters <span class="op">=</span> <span class="st">"minimumElevationInMeters"</span>,
  maximumElevationInMeters <span class="op">=</span> <span class="st">"maximumElevationInMeters"</span>,
  decimalLatitude <span class="op">=</span> <span class="st">"decimalLatitude"</span>,
  decimalLongitude <span class="op">=</span> <span class="st">"decimalLongitude"</span>,
  geodeticDatum <span class="op">=</span> <span class="st">"geodeticDatum"</span>,
  coordinateUncertaintyInMeters <span class="op">=</span> <span class="st">"coordinateUncertaintyInMeters"</span><span class="op">)</span>
<span class="co"># We can then check to see if the terms are mapped correctly</span>
<span class="co"># Terms with NA in the column index represent Darwin Core terms associated with the event data table that are not mapped</span>
<span class="co"># Not all terms need to be mapped to make a valid Darwin Core archive</span>
<span class="va">newTOVEEventTable</span><span class="op">$</span><span class="fu">getTermMapping</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##                                                                  columnIndex</span>
<span class="co">## http://purl.org/dc/terms/type                                              2</span>
<span class="co">## http://purl.org/dc/terms/modified                                          3</span>
<span class="co">## http://purl.org/dc/terms/language                                         NA</span>
<span class="co">## http://purl.org/dc/terms/license                                          NA</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder                                     NA</span>
<span class="co">## http://purl.org/dc/terms/accessRights                                     NA</span>
<span class="co">## http://purl.org/dc/terms/bibliographicCitation                            NA</span>
<span class="co">## http://purl.org/dc/terms/references                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionID                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetID                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionCode                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                                   4</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                          5</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                           6</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                           7</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dynamicProperties                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                       8</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentEventID                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                              9</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                              10</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                               11</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                               12</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                                    13</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                                    14</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/startDayOfYear                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/endDayOfYear                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                         15</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                        16</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                          17</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimEventDate                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/habitat                                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNumber                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNotes                                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventRemarks                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                                   18</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeographyID                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeography                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/continent                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/waterBody                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/islandGroup                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/island                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                      19</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                                  20</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                                21</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/county                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                                 22</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                                     23</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLocality                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimElevation                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters                     24</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters                     25</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimDepth                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDepthInMeters                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDepthInMeters                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationAccordingTo                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationRemarks                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinates                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLatitude                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLongitude                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimSRS                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                              26</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                             27</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                                28</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters                29</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinatePrecision                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/pointRadiusSpatialFit                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintWKT                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSRS                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSpatialFit                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedBy                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedDate                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceProtocol                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceSources                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceVerificationStatus               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceRemarks                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geologicalContextID                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lithostratigraphicTerms                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/group                                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/formation                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/member                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/bed                                          NA</span>
<span class="co">##                                                                                     columnName</span>
<span class="co">## http://purl.org/dc/terms/type                                                             type</span>
<span class="co">## http://purl.org/dc/terms/modified                                                     modified</span>
<span class="co">## http://purl.org/dc/terms/language                                                         &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/license                                                          &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder                                                     &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/accessRights                                                     &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/bibliographicCitation                                            &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/references                                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionID                                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetID                                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionCode                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                                           datasetName</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                         ownerInstitutionCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                           informationWithheld</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                           dataGeneralizations</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dynamicProperties                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                                   eventID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentEventID                                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                                 samplingProtocol</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                                   sampleSizeValue</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                                     sampleSizeUnit</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                                     samplingEffort</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                                               eventDate</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                                               eventTime</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/startDayOfYear                                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/endDayOfYear                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                                         year</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                                       month</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                                           day</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimEventDate                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/habitat                                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNumber                                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNotes                                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventRemarks                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                                             locationID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeographyID                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeography                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/continent                                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/waterBody                                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/islandGroup                                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/island                                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                                   country</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                                           countryCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                                       stateProvince</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/county                                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                                         municipality</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                                                 locality</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLocality                                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimElevation                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters                 minimumElevationInMeters</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters                 maximumElevationInMeters</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimDepth                                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDepthInMeters                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDepthInMeters                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationAccordingTo                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationRemarks                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinates                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLatitude                                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLongitude                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimSRS                                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                                   decimalLatitude</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                                 decimalLongitude</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                                       geodeticDatum</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters       coordinateUncertaintyInMeters</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinatePrecision                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/pointRadiusSpatialFit                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintWKT                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSRS                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSpatialFit                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedBy                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedDate                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceProtocol                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceSources                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceVerificationStatus                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceRemarks                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geologicalContextID                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lithostratigraphicTerms                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/group                                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/formation                                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/member                                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/bed                                                          &lt;NA&gt;</span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># We can also check that the correct ID column is being used</span>
<span class="co">#  Returns the index of the ID column</span>
<span class="va">newTOVEEventTable</span><span class="op">$</span><span class="fu">getIDIndex</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] 1</span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#  Returns the name of the ID column (if the data table has column names)</span>
<span class="va">newTOVEEventTable</span><span class="op">$</span><span class="fu">getIDName</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "id"</span></code></pre>
<p>The next step is to perform the same term mapping for each of the extension data tables. In this instance we know that our extension data table should be of ‘GBIFOccurrence’. However, how do you find the relevant extension data type for your extension data? GBIF supports a large number of extension data types and to go into them all would be outside the scope of this document. However, the ‘getGBIFExtensionClasses’ function will retrive the definition information associated with each extension class with a small description. More detailed descriptions of the extension classes can be found on the <a href="https://tools.gbif.org/dwca-validator/extensions.do" class="external-link">Darwin Core Validator website</a> but the output from the ‘getGBIFExtensionClasses’ function will at least give some hints as to which extension class may be suitable for your data type.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Look at some of the supported GBIF extension classes (here we've shorted it to the first six entries so that the output is not too long)</span>
<span class="fu"><a href="../reference/getGBIFExtensionClasses.html">getGBIFExtensionClasses</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">## $GBIFMultimedia</span>
<span class="co">## http://rs.tdwg.org/ac/terms/Multimedia - Multimedia</span>
<span class="co">## The Audubon Core is a set of vocabularies designed to represent metadata for biodiversity multimedia resources and collections. These vocabularies aim to represent information that will help to determine whether a particular resource or collection will be fit for some particular biodiversity science application before acquiring the media. Among others, the vocabularies address such concerns as the management of the media and collections, descriptions of their content, their taxonomic, geographic, and temporal coverage, and the appropriate ways to retrieve, attribute and reproduce them.</span>
<span class="co">## </span>
<span class="co">##  IRI: http://rs.tdwg.org/ac/terms/Multimedia</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/ac/terms/Multimedia</span>
<span class="co">##  Type: class</span>
<span class="co">##  Date modified: 2015-03-19</span>
<span class="co">##  Notes:</span>
<span class="co">##      The Audubon Core is a set of vocabularies designed to represent metadata for biodiversity multimedia resources and collections. These vocabularies aim to represent information that will help to determine whether a particular resource or collection will be fit for some particular biodiversity science application before acquiring the media. Among others, the vocabularies address such concerns as the management of the media and collections, descriptions of their content, their taxonomic, geographic, and temporal coverage, and the appropriate ways to retrieve, attribute and reproduce them.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      GBIF core/extension class</span>
<span class="co">##  Vocabulary URI:</span>
<span class="co">##      http://terms.tdwg.org/wiki/Audubon_Core_Term_List</span>
<span class="co">## </span>
<span class="co">## $GBIFChronometricAge</span>
<span class="co">## http://rs.tdwg.org/chrono/terms/ChronometricAge - ChronometricAge</span>
<span class="co">## Extension to Occurrence Core to capture chronometric age information to be used only in cases where the collecting event is not contemporaneous with the time when the dwc:Organism was alive in its context. Collection event information can be reported in dwc:eventDate. See also the normative term list document at https://tdwg.github.io/chrono/list/ and the human-friendly Quick Reference Guide at https://tdwg.github.io/chrono/terms/.</span>
<span class="co">## </span>
<span class="co">##  IRI: http://rs.tdwg.org/chrono/terms/ChronometricAge</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/chrono/terms/ChronometricAge</span>
<span class="co">##  Type: class</span>
<span class="co">##  Date modified: 2021-03-27</span>
<span class="co">##  Notes:</span>
<span class="co">##      Extension to Occurrence Core to capture chronometric age information to be used only in cases where the collecting event is not contemporaneous with the time when the dwc:Organism was alive in its context. Collection event information can be reported in dwc:eventDate. See also the normative term list document at https://tdwg.github.io/chrono/list/ and the human-friendly Quick Reference Guide at https://tdwg.github.io/chrono/terms/.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      GBIF core/extension class</span>
<span class="co">##  Vocabulary URI:</span>
<span class="co">##      https://github.com/tdwg/chrono/blob/master/vocabulary/term_versions.csv</span>
<span class="co">## </span>
<span class="co">## $GBIFIdentification</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/Identification - Identification</span>
<span class="co">## A taxonomic determination (e.g., the assignment to a taxon).</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/Identification</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/Identification-2018-09-06</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2018-09-06</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      A subspecies determination of an organism.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      DataSets/DataSet/Units/Unit/Identifications/Identification</span>
<span class="co">## </span>
<span class="co">## $GBIFMeasurementOrFact</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/MeasurementOrFact - Measurement or Fact</span>
<span class="co">## A measurement of or fact about an rdfs:Resource (http://www.w3.org/2000/01/rdf-schema#Resource).</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/MeasurementOrFact</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/MeasurementOrFact-2018-09-06</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2018-09-06</span>
<span class="co">##  Notes:</span>
<span class="co">##      Resources can be thought of as identifiable records or instances of classes and may include, but need not be limited to dwc:Occurrence, dwc:Organism, dwc:MaterialSample, dwc:Event, dwc:Location, dwc:GeologicalContext, dwc:Identification, or dwc:Taxon.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      The weight of an organism in grams. The number of placental scars. Surface water temperature in Celsius.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      Datasets/Dataset/Units/Unit/MeasurementsOrFacts or DataSets/DataSet/Units/Unit/Gathering/SiteMeasurementsOrFacts</span>
<span class="co">## </span>
<span class="co">## $GBIFResourceRelationship</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ResourceRelationship - Resource Relationship</span>
<span class="co">## A relationship of one rdfs:Resource (http://www.w3.org/2000/01/rdf-schema#Resource) to another.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://rs.tdwg.org/dwc/terms/ResourceRelationship</span>
<span class="co">##  Version IRI: http://rs.tdwg.org/dwc/terms/version/ResourceRelationship-2018-09-06</span>
<span class="co">##  Type: Class</span>
<span class="co">##  Date modified: 2018-09-06</span>
<span class="co">##  Notes:</span>
<span class="co">##      Resources can be thought of as identifiable records or instances of classes and may include, but need not be limited to dwc:Occurrence, dwc:Organism, dwc:MaterialSample, dwc:Event, dwc:Location, dwc:GeologicalContext, dwc:Identification, or dwc:Taxon.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-10-26_15</span>
<span class="co">##  Examples:</span>
<span class="co">##      An instance of an Organism is the mother of another instance of an Organism. A uniquely identified Occurrence represents the same Occurrence as another uniquely identified Occurrence. A MaterialSample is a subsample of another MaterialSample.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      DataSets/DataSet/Units/Unit/Associations</span>
<span class="co">## </span>
<span class="co">## $GBIFEOLMediaExtension</span>
<span class="co">## http://www.eol.org/schema/transfer#/EOLMediaExtension - EOLMediaExtension</span>
<span class="co">## This extension draws from Audubon Core, Dublin Core and others to gather information about text and multimedia. It was designed to contain all the metadata that is required to be indexed by the Encyclopedia of Life (EOL), but this extension is hopefully general enough to be useful to all text and media providers and consumers. The original extension was offline; this is a copy recovered from the Internet Archive.  The issue date is estimated.</span>
<span class="co">## </span>
<span class="co">##  IRI: http://eol.org/schema/media/Document</span>
<span class="co">##  Version IRI: http://eol.org/schema/media/Document</span>
<span class="co">##  Type: class</span>
<span class="co">##  Date modified: 2010-01-01</span>
<span class="co">##  Notes:</span>
<span class="co">##      This extension draws from Audubon Core, Dublin Core and others to gather information about text and multimedia. It was designed to contain all the metadata that is required to be indexed by the Encyclopedia of Life (EOL), but this extension is hopefully general enough to be useful to all text and media providers and consumers. The original extension was offline; this is a copy recovered from the Internet Archive.  The issue date is estimated.</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      GBIF core/extension class</span>
<span class="co">##  Vocabulary URI:</span>
<span class="co">##      http://eol.org/info/cp_archives</span></code></pre>
<p>We can initialise the occurrence extension table for our data set in a similar manner to how we initialised the event core data type.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Look at the Darwin Core terms associated with occurrence data tables (here we've shortened it to the first 6 entries so that the output is not too long)</span>
<span class="fu"><a href="../reference/getGBIFOccurrenceMembers.html">getGBIFOccurrenceMembers</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></code></pre></div>
<pre><code><span class="co">## $`http://purl.org/dc/terms/type`</span>
<span class="co">## http://purl.org/dc/terms/type - Type (DEPRECATED)</span>
<span class="co">## The nature or genre of the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/type</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Is replaced by: http://purl.org/dc/elements/1.1/type</span>
<span class="co">##  Notes:</span>
<span class="co">##      To provide a string literal value for type, use dc:type rather than this term. In accordance with the Darwin Core RDF guide, rdf:type should be used instead of this term to indicate an IRI value for type.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2009-12-07_1</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_20</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      This term is deprecated and should no longer be used.</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/modified`</span>
<span class="co">## http://purl.org/dc/terms/modified - Date Modified</span>
<span class="co">## The most recent date-time on which the resource was changed.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/modified</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#modified-003</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2020-08-12</span>
<span class="co">##  Notes:</span>
<span class="co">##      Recommended best practice is to use a date that conforms to ISO 8601-1:2019.</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##  Examples:</span>
<span class="co">##      1963-03-08T14:07-0600 (8 Mar 1963 at 2:07pm in the time zone six hours earlier than UTC). 2009-02-20T08:40Z (20 February 2009 8:40am UTC). 2018-08-29T15:19 (3:19pm local time on 29 August 2018). 1809-02-12 (some time during 12 February 1809). 1906-06 (some time in June 1906). 1971 (some time in the year 1971). 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z (some time during the interval between 1 March 2007 1pm UTC and 11 May 2008 3:30pm UTC). 1900/1909 (some time during the interval between the beginning of the year 1900 and the end of the year 1909). 2007-11-13/15 (some time in the interval between 13 November 2007 and 15 November 2007).</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/language`</span>
<span class="co">## http://purl.org/dc/terms/language - Language</span>
<span class="co">## A language of the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/language</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#languageT-001</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Notes:</span>
<span class="co">##      Recommended best practice is to use an IRI from the Library of Congress ISO 639-2 scheme http://id.loc.gov/vocabulary/iso639-2</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2019-12-01_19</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/license`</span>
<span class="co">## http://purl.org/dc/terms/license - License</span>
<span class="co">## A legal document giving official permission to do something with the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/license</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#license-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Executive committee decisions:</span>
<span class="co">##      http://rs.tdwg.org/decisions/decision-2014-11-06_17</span>
<span class="co">##  Examples:</span>
<span class="co">##      http://creativecommons.org/publicdomain/zero/1.0/legalcode, http://creativecommons.org/licenses/by/4.0/legalcode</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/rightsHolder`</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder - Rights Holder</span>
<span class="co">## A person or organization owning or managing rights over the resource.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/rightsHolder</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#rightsHolder-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Examples:</span>
<span class="co">##      The Regents of the University of California</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span>
<span class="co">## </span>
<span class="co">## $`http://purl.org/dc/terms/accessRights`</span>
<span class="co">## http://purl.org/dc/terms/accessRights - Access Rights</span>
<span class="co">## Information about who can access the resource or an indication of its security status.</span>
<span class="co">## </span>
<span class="co">##  Defined in: https://dwc.tdwg.org/</span>
<span class="co">##  IRI: http://purl.org/dc/terms/accessRights</span>
<span class="co">##  Version IRI: http://dublincore.org/usage/terms/history/#accessRights-002</span>
<span class="co">##  Type: Property</span>
<span class="co">##  Date modified: 2008-01-14</span>
<span class="co">##  Notes:</span>
<span class="co">##      Access Rights may include information regarding access or restrictions based on privacy, security, or other policies.</span>
<span class="co">##  Examples:</span>
<span class="co">##      not-for-profit use only, https://www.fieldmuseum.org/field-museum-natural-history-conditions-and-suggested-norms-use-collections-data-and-images</span>
<span class="co">##  Miscellaneous information:</span>
<span class="co">##      not in ABCD</span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Call the initialisation function</span>
<span class="va">newTOVEOccTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeGBIFOccurrence.html">initializeGBIFOccurrence</a></span><span class="op">(</span><span class="va">TOVEOccTableDF</span>, <span class="st">"id"</span>, nameAutoMap <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co"># We can then check to see if the terms are mapped correctly</span>
<span class="co"># Terms with NA in the column index represent Darwin Core terms associated with the event data table that are not mapped</span>
<span class="co"># Not all terms need to be mapped to make a valid Darwin Core archive</span>
<span class="va">newTOVEOccTable</span><span class="op">$</span><span class="fu">getTermMapping</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##                                                                  columnIndex</span>
<span class="co">## http://purl.org/dc/terms/type                                              2</span>
<span class="co">## http://purl.org/dc/terms/modified                                          3</span>
<span class="co">## http://purl.org/dc/terms/language                                         NA</span>
<span class="co">## http://purl.org/dc/terms/license                                          NA</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder                                     NA</span>
<span class="co">## http://purl.org/dc/terms/accessRights                                     NA</span>
<span class="co">## http://purl.org/dc/terms/bibliographicCitation                            NA</span>
<span class="co">## http://purl.org/dc/terms/references                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionID                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionID                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetID                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionCode                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionCode                                4</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/basisOfRecord                                 5</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dynamicProperties                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/materialSampleID                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceID                                  6</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/catalogNumber                                 7</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceRemarks                             8</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/recordNumber                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/recordedBy                                   NA</span>
<span class="co">## http://rs.gbif.org/terms/1.0/recordedByID                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/individualCount                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantity                              9</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantityType                         10</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sex                                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lifeStage                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/reproductiveCondition                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/behavior                                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/establishmentMeans                           NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceStatus                             11</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/preparations                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/disposition                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/otherCatalogNumbers                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedMedia                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedReferences                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedSequences                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedTaxa                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismID                                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismName                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismScope                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedOccurrences                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedOrganisms                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/previousIdentifications                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismRemarks                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                      12</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentEventID                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/startDayOfYear                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/endDayOfYear                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimEventDate                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/habitat                                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNumber                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNotes                                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventRemarks                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeographyID                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeography                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/continent                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/waterBody                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/islandGroup                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/island                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/county                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLocality                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimElevation                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimDepth                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDepthInMeters                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDepthInMeters                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationAccordingTo                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationRemarks                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinates                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLatitude                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLongitude                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimSRS                                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters                NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinatePrecision                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/pointRadiusSpatialFit                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintWKT                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSRS                                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSpatialFit                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedBy                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedDate                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceProtocol                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceSources                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceVerificationStatus               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceRemarks                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geologicalContextID                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem                 NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone                  NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lithostratigraphicTerms                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/group                                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/formation                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/member                                       NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/bed                                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationID                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identifiedBy                                 NA</span>
<span class="co">## http://rs.gbif.org/terms/1.0/identifiedByID                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dateIdentified                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationReferences                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationRemarks                        NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationQualifier                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationVerificationStatus             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/typeStatus                                   NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonID                                      NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificNameID                             NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/acceptedNameUsageID                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentNameUsageID                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/originalNameUsageID                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nameAccordingToID                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedInID                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonConceptID                               NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificName                               13</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/acceptedNameUsage                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentNameUsage                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/originalNameUsage                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nameAccordingTo                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedIn                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedInYear                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherClassification                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/kingdom                                      14</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/phylum                                       15</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/class                                        16</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/order                                        17</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/family                                       18</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/genus                                        19</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/subgenus                                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/specificEpithet                              20</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/infraspecificEpithet                         NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonRank                                    NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimTaxonRank                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificNameAuthorship                     NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/vernacularName                               21</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nomenclaturalCode                            NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonomicStatus                              NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nomenclaturalStatus                          NA</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonRemarks                                 NA</span>
<span class="co">##                                                                            columnName</span>
<span class="co">## http://purl.org/dc/terms/type                                                    type</span>
<span class="co">## http://purl.org/dc/terms/modified                                            modified</span>
<span class="co">## http://purl.org/dc/terms/language                                                &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/license                                                 &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/rightsHolder                                            &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/accessRights                                            &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/bibliographicCitation                                   &lt;NA&gt;</span>
<span class="co">## http://purl.org/dc/terms/references                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionID                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionID                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetID                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/institutionCode                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/collectionCode                            collectionCode</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/datasetName                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/ownerInstitutionCode                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/basisOfRecord                              basisOfRecord</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/informationWithheld                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dataGeneralizations                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dynamicProperties                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/materialSampleID                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceID                                occurrenceID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/catalogNumber                              catalogNumber</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceRemarks                      occurrenceRemarks</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/recordNumber                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/recordedBy                                          &lt;NA&gt;</span>
<span class="co">## http://rs.gbif.org/terms/1.0/recordedByID                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/individualCount                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantity                        organismQuantity</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismQuantityType                organismQuantityType</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sex                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lifeStage                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/reproductiveCondition                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/behavior                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/establishmentMeans                                  &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/occurrenceStatus                        occurrenceStatus</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/preparations                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/disposition                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/otherCatalogNumbers                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedMedia                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedReferences                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedSequences                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedTaxa                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismID                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismName                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismScope                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedOccurrences                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/associatedOrganisms                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/previousIdentifications                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/organismRemarks                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventID                                          eventID</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentEventID                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingProtocol                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeValue                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/sampleSizeUnit                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/samplingEffort                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventDate                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventTime                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/startDayOfYear                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/endDayOfYear                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/year                                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/month                                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/day                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimEventDate                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/habitat                                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNumber                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/fieldNotes                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/eventRemarks                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationID                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeographyID                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherGeography                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/continent                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/waterBody                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/islandGroup                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/island                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/country                                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/countryCode                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/stateProvince                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/county                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/municipality                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locality                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLocality                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimElevation                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumElevationInMeters                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumElevationInMeters                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimDepth                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDepthInMeters                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDepthInMeters                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/minimumDistanceAboveSurfaceInMeters                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/maximumDistanceAboveSurfaceInMeters                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationAccordingTo                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/locationRemarks                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinates                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLatitude                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimLongitude                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimCoordinateSystem                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimSRS                                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLatitude                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/decimalLongitude                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geodeticDatum                                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters                       &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/coordinatePrecision                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/pointRadiusSpatialFit                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintWKT                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSRS                                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/footprintSpatialFit                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedBy                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferencedDate                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceProtocol                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceSources                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceVerificationStatus                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/georeferenceRemarks                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/geologicalContextID                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem                        &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone                         &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/lithostratigraphicTerms                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/group                                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/formation                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/member                                              &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/bed                                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationID                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identifiedBy                                        &lt;NA&gt;</span>
<span class="co">## http://rs.gbif.org/terms/1.0/identifiedByID                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/dateIdentified                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationReferences                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationRemarks                               &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationQualifier                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/identificationVerificationStatus                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/typeStatus                                          &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonID                                             &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificNameID                                    &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/acceptedNameUsageID                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentNameUsageID                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/originalNameUsageID                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nameAccordingToID                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedInID                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonConceptID                                      &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificName                            scientificName</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/acceptedNameUsage                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/parentNameUsage                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/originalNameUsage                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nameAccordingTo                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedIn                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/namePublishedInYear                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/higherClassification                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/kingdom                                          kingdom</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/phylum                                            phylum</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/class                                              class</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/order                                              order</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/family                                            family</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/genus                                              genus</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/subgenus                                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/specificEpithet                          specificEpithet</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/infraspecificEpithet                                &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonRank                                           &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/verbatimTaxonRank                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/scientificNameAuthorship                            &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/vernacularName                            vernacularName</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nomenclaturalCode                                   &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonomicStatus                                     &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/nomenclaturalStatus                                 &lt;NA&gt;</span>
<span class="co">## http://rs.tdwg.org/dwc/terms/taxonRemarks                                        &lt;NA&gt;</span></code></pre>
</div>
<div class="section level3">
<h3 id="creating-metadata">Creating Metadata<a class="anchor" aria-label="anchor" href="#creating-metadata"></a>
</h3>
<p>In Darwin Core archive files the standard format for handling metadata is <a href="https://eml.ecoinformatics.org/" class="external-link">EML</a>, a flavour of XML specifically designed for the handling of ecological metadata. We can extract the EML file for the TOV-E data from the Darwin Core archive file using the following code:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Extract the EML file from the Darwin Core archive file</span>
<span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">localDataLoc</span>, <span class="st">"eml.xml"</span>, exdir <span class="op">=</span> <span class="va">tempDirLoc</span><span class="op">)</span>
<span class="co"># Print the first few lines of the EML file to get an idea of the structure of the file</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span>con <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"eml.xml"</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">20</span>, encoding <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## &lt;eml:eml xmlns:eml="eml://ecoinformatics.org/eml-2.1.1"</span>
<span class="co">##          xmlns:dc="http://purl.org/dc/terms/"</span>
<span class="co">##          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="co">##          xsi:schemaLocation="eml://ecoinformatics.org/eml-2.1.1 http://rs.gbif.org/schema/eml-gbif-profile/1.1/eml.xsd"</span>
<span class="co">##          packageId="4a00502d-6342-4294-aad1-9727e5c24041/v1.6" system="http://gbif.org" scope="system"</span>
<span class="co">##          xml:lang="eng"&gt;</span>
<span class="co">## </span>
<span class="co">## &lt;dataset&gt;</span>
<span class="co">##   &lt;alternateIdentifier&gt;4a00502d-6342-4294-aad1-9727e5c24041&lt;/alternateIdentifier&gt;</span>
<span class="co">##   &lt;alternateIdentifier&gt;https://ipt.nina.no/resource?r=tove_birdsampling&lt;/alternateIdentifier&gt;</span>
<span class="co">##   &lt;title xml:lang="eng"&gt;TOV-E Bird monitoring sampling data&lt;/title&gt;</span>
<span class="co">##       &lt;creator&gt;</span>
<span class="co">##     &lt;individualName&gt;</span>
<span class="co">##         &lt;givenName&gt;John Atle&lt;/givenName&gt;</span>
<span class="co">##       &lt;surName&gt;Kålås&lt;/surName&gt;</span>
<span class="co">##     &lt;/individualName&gt;</span>
<span class="co">##     &lt;organizationName&gt;Norwegian Institute for Nature Research&lt;/organizationName&gt;</span>
<span class="co">##     &lt;positionName&gt;Senior Researcher&lt;/positionName&gt;</span>
<span class="co">##     &lt;address&gt;</span>
<span class="co">##         &lt;deliveryPoint&gt;Postboks 5685 Sluppen&lt;/deliveryPoint&gt;</span></code></pre>
<p>It is also possible to look at the entire EML file in a seperate browser by running the following code:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"eml.xml"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>From the EML file we can generate a DwCMetadata object by calling the ‘initializeDwCMetadata’ function. This function takes one argument, which is the location of the file to import the metadata information from. This can be an EML file or a Darwin Core archive file.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Initialise the metadata from the EML file extracted from the Darwin Core archive</span>
<span class="va">newTOVEMetadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeDwCMetadata.html">initializeDwCMetadata</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"eml.xml"</span><span class="op">)</span>,
  fileType <span class="op">=</span> <span class="st">"eml"</span> <span class="co"># This line is not required if the file has the ".xml" file extension</span>
<span class="op">)</span>
<span class="co"># Alternatively the metadata object can be imported directly from the Darwin Core archive file</span>
<span class="va">newTOVEMetadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeDwCMetadata.html">initializeDwCMetadata</a></span><span class="op">(</span><span class="va">localDataLoc</span>,
  fileType <span class="op">=</span> <span class="st">"darwincore"</span> <span class="co"># This line is not required if the file has the ".zip" file extension</span>
<span class="op">)</span></code></pre></div>
<p>However, these methods assume that the researcher already has an EML file that can be used for initialisation of the metadata object. In many instances, the researcher will not have the EML readily available, and in situations where the researcher is unfamiliar with the standard, the process to create an EML can be rather laborious. To help alleviate this, the Living Norway adds a number of functions to aid in the creation of EML files. Instead of formatting the metadata according to the EML standard, the researcher can instead use <a href="https://rmarkdown.rstudio.com/" class="external-link">R markdown</a> to create a text document describing the dataset. In this text document the researcher can simply add tagging functions to sections of text that they wish to be exported to the EML file. (<strong>It is important to note here that there are a few different R packages that one can use to make valid EML (see: <a href="https://raw.githubusercontent.com/LivingNorway/LivingNorwayR/master/vignettes/EML_R_packages_overview.rmd" class="external-link">EML with R</a>) all of which have different challenges associated with them.</strong>)</p>
<p>R markdown is a simple text-based documentation language and can be thought of as an extension of simple text files with some extra support for formatting and display of text elements. In addition R markdown allows for the embedding of R code within the document which can be used to draw figures or make tables from data. This can be very useful for describing or displaying aspects of data sets.</p>
<p>A very simple minimal example of the use of markdown to generate create metadata documentation can be found at the <a href="https://raw.githubusercontent.com/LivingNorway/LivingNorwayR/master/vignettes/LNWorkshopExample_TOV-E_Metadata.rmd" class="external-link">Living Norway Git Repository</a>.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Initialise the metadata from the R markdown file hosted at TODO</span>
<span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/LivingNorway/LivingNorwayR/master/vignettes/LNWorkshopExample_TOV-E_Metadata.rmd"</span>,
  <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"LNWorkshopExample_Metadata.rmd"</span><span class="op">)</span><span class="op">)</span>
<span class="va">createdTOVEMetadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeDwCMetadata.html">initializeDwCMetadata</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"LNWorkshopExample_Metadata.rmd"</span><span class="op">)</span>,
  fileType <span class="op">=</span> <span class="st">"rmarkdown"</span> <span class="co"># This line is not required if the file has the ".rmd" or ".md" file extension</span>
<span class="op">)</span>
<span class="co"># Export the newly created metadata as an EML file</span>
<span class="va">createdTOVEMetadata</span><span class="op">$</span><span class="fu">exportToEML</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"newMetadata.xml"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>and again the created metadata can be viewed in a browser using the following command:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"newMetadata.xml"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="putting-it-all-together">Putting it All Together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h3>
<p>Now we have all the components that we need to package the data tables and the metadata together into one Darwin Core archive object. This can be done through calling the <code>initializeDwCArchive</code> function giving the core table as the first argument, a list of all the extension tables as the second argument, and a <code>DwCMetadata</code> object as the third argument.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">newTOVEArchive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initializeDwCArchive.html">initializeDwCArchive</a></span><span class="op">(</span><span class="va">newTOVEEventTable</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">newTOVEOccTable</span><span class="op">)</span>, <span class="va">newTOVEMetadata</span><span class="op">)</span></code></pre></div>
<p>Finally, we can then export it as a to whichever location we wish to store it to.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">newTOVEArchive</span><span class="op">$</span><span class="fu">exportAsDwCArchive</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tempDirLoc</span>, <span class="st">"newDwCArchive.zip"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>This Darwin Core archive file can now serve as a useful interchange format that ensures that all the data and metadata are packaged together and that they are both described used known biodiversity standards. Thus satisfying the basic tenants of FAIR data sharing and allowing your data to be indexed by biodiversity databases such as GBIF.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Joseph Chipperfield, Matthew Grainger, Erlend Nilsen, Norsk institutt for naturforskning (NINA).</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
